# Release Notes

## 2.1.1 "Millenium Falcon" - TBD

* This release introduces support for Python 3 (Python 3.5 and higher). It means the agent now
  supports Python 2.6, 2.7 and >= 3.5.

  On package installation, the installer will try to find a suitable Python version which will
  be used for running the agent. It defaults to Python 2, but if a suitable Python 2 version is
  not found, it will try to use Python 3 (if available).

  If you want to select a specific Python version you want to use to run the agent (e.g. you have
  both Python 2 and Python 3 installed), you can do that using ``scalyr-switch-python`` tool
  which ships with the agent.

  Selecting Python 2:

  ```bash
  scalyr-switch-python python2
  /etc/init.d/scalyr-agent-2 restart
  ```

  Selecting Python 3:

  ```bash
  scalyr-switch-python python3
  /etc/init.d/scalyr-agent-2 restart
  ```

  Keep in mind that you need to restart the agent after running the ``scalyr-switch-python``
  command for the changes to take an effect.

* This release adds new ``metric_name_blacklist`` monitor configuration option. With this
  configuration option you can specify which metrics generated by the monitors should not
  be logged and shipped to Scalyr.

  For example, if you want to exclude ``app.io.wait`` and ``app.uptime`` metrics for the
  built-in agent Linux process monitor, the agent configuration file would look like this:

  ```javascript
  // This is only needed if you are changing settings for built-int agent process metrics
  //monitor
  implicit_agent_process_metrics_monitor: false,

  monitors: [
    {
        "module": "scalyr_agent.builtin_monitors.linux_process_metrics",
        "id": "agent",
        "pid": "$$",
        "metric_name_blacklist": ["app.io.wait", "app.uptime"],
    },
  ]
  ```

* New ``json_library`` global configuration option has been added. With this option user can
  explicitly select which JSON library to use when serializing and deserializing data.

  By default, if ``ujson`` Python package is available, agent will try to use that and if it's not,
  it will fall back to ``json`` library from Python standard library.

  In addition to ``ujson`` and ``json`` libraries, ``orjson`` library is now also supported. This
  library only supports Python 3, but offers significant performance improvements under some
  scenarios.

  To select ``orjson`` library, add the following line to your agent configuration file.

  ```javascript
  "json_library": "orjson",
  ```

  Keep in mind that ``ujson`` and ``orjson`` Python packages are not available by default and can
  be installed using pip.

  ```bash
  pip install ujson
  pip install orjson
  ```
